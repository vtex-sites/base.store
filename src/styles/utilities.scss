// Mixins & functions utilities  //////////////////////////

/* SQ-DISABLE */
@use "sass:math";

/* SQ-ENABLE */

// Px to rem.
$base: 16px !default;

@function rem($size) {
  $rem: math.div($size, $base);

  @return #{$rem}rem;
}

@mixin focus-ring-outline {
  outline: 2px solid var(--color-focus-ring);
  outline-offset: 1px;
}

// Supports Safari browsers
@mixin focus-ring {
  outline: none;
  box-shadow: 0 0 0 1px var(--color-body-bkg), 0 0 0 var(--border-width-2) var(--color-focus-ring);
}

@mixin focus-ring-visible {
  @media not all and (min-resolution: .001dpcm) { // Target only Safari browsers
    @supports (-webkit-appearance:none) {        // Use `focus` instead of `focus-visible`
      &:focus { @include focus-ring; }           // due to Safari's lack of support
    }
  }
  &:focus-visible { @include focus-ring; }
}
